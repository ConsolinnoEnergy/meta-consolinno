## --*- bitbake -*--
#@TYPE: Machine
#@NAME: consolinno-leaflet-1u0022-1
#@DESCRIPTION: Consolinno Leaflet 1u0022 i.MX6 ULL, 512MB RAM, eMMC
#@ARTICLENUMBERS: PB-02013-410I.A0, PCL-063-20910CI.A0

SOC_FAMILY = "imx:mx6:mx6ull"
require conf/machine/include/soc-family.inc

# Common settings for phytecs imx6ul boards
DEFAULTTUNE = "cortexa9thf-neon"
require conf/machine/include/arm/armv7a/tune-cortexa9.inc

# Sub-architecture support
MACHINE_SOCARCH = "${TUNE_PKGARCH}-mx6ull"
PACKAGE_EXTRA_ARCHS:append = " ${MACHINE_SOCARCH}"

KERNEL_DEVICETREE = ""
PREFERRED_PROVIDER_virtual/kernel = "kernel-1u0022"
PREFERRED_PROVIDER_virtual/bootloader ?= "barebox-1u0022"

PREFERRED_VERSION_kernel-1u0022 = "5.4+%"
PREFERRED_VERSION_barebox-1u0022 = "2024.01+%"

MACHINE_FEATURES = "usbhost vfat mmc serial spi i2c usbhost ext2 ext4 lvm2 fitimage initrd tpm"

SERIAL_CONSOLES = "115200;ttymxc1"

MACHINE_FIRMWARE_PROVIDER = "\
    linux-firmware-imx-sdma-imx6q \
"

MACHINE_DTBS = "\
    ${MACHINE}.dtb \
"
